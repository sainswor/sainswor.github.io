{{- $.Scratch.Set "hasComments" 0 }}
{{- $comments := readDir "data/comments" }}
{{- $postSlug := .File.ContentBaseName }}
{{- range $comments }}
    {{- if eq .Name $postSlug }}
        {{- range $index, $comments := (index $.Site.Data.comments $postSlug ) }}
            {{- if not (eq $comments.comment "") }}
                {{- $.Scratch.Add "hasComments" 1 }}
            {{- end }}
        {{- end }}
    {{- end }}
{{- end }}

